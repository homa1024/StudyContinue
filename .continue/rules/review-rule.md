---
globs: "**/*.{cpp,h,hpp}"
description: C++コードのレビュールール。const/constexpr の適切な使用と範囲外アクセスチェックに焦点を当てたガイドライン。
---

# C++コードレビューガイドライン

## 重要事項

- レビュー対象は現在開いているファイル中の指定されたブランチとの間の差分のみとします。
    - ブランチをユーザーにきいて、そのブランチとの差分でみてください。
    - 差分に含まれていないコードに対する改善提案は行わないでください。
    - 既存コードの修正が必要な場合は、それが差分内のコードに直接関連する場合のみ提案してください。
- 以後に記載する確認項目１つごとにレビュー対象ファイルを確認していきます。
- 与えられたレビュールールのみに基づいて指摘と修正を行ってください。それ以外の改善点は取り上げないでください。
- 各指摘の際には、どのレビュールール項目に基づいているかを明示的に述べてください。

## 確認項目

1. const化できる変数や関数はできる限り付けること。
2. constexpr をつかえるところは使うこと。
3. なるべく範囲外アクセスチェック（at()など）が付属した標準ライブラリクラスを利用すること。

## レビュープロセス

1. マージ予定のブランチをヒアリングします。
2. 具体的な差分の確認には以下のgitコマンドを使用します：
   ```bash
   git diff <マージ予定のブランチ名> -- <対象ファイルパス>
   ```
   例：`git diff main -- src/sample_calculator.cpp`
3. 指摘は1件ずつ行い、修正が必要な理由を説明するとともにファイルを修正します。
4. これにより、変更の意図が明確になり、コードの品質と安全性が向上します。